{"ast":null,"code":"import { stringify } from \"querystring\";\nexport class ApiClient {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n  async get(path, qs, signal) {\n    const result = await fetch(`${this.baseUrl}${path}?${stringify(qs)}`, {\n      method: 'GET',\n      signal\n    });\n    if (!result.ok) {\n      throw new Error();\n    }\n    return await result.json();\n  }\n  async post(path, body, signal) {\n    const result = await fetch(`${this.baseUrl}${path}`, {\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: 'POST',\n      signal\n    });\n    if (!result.ok) {\n      throw new Error();\n    }\n    return await result.json();\n  }\n}","map":{"version":3,"names":["stringify","ApiClient","constructor","baseUrl","get","path","qs","signal","result","fetch","method","ok","Error","json","post","body","JSON","headers"],"sources":["D:/messager/client/src/api/api-client/api-client.ts"],"sourcesContent":["import { stringify } from \"querystring\"\r\n\r\nexport class ApiClient {\r\n    public constructor (\r\n        public readonly baseUrl: string\r\n    ) {}\r\n\r\n    public async get(path: string, qs: Record<string, string | number | boolean>, signal?: AbortSignal) {\r\n        const result = await fetch(`${this.baseUrl}${path}?${stringify(qs)}`, {\r\n            method: 'GET',\r\n            signal\r\n        })\r\n\r\n        if (!result.ok) {\r\n            throw new Error()\r\n        }\r\n\r\n        return await result.json()\r\n    } \r\n\r\n    public async post(path: string, body: Object, signal?: AbortSignal) {\r\n        const result = await fetch(`${this.baseUrl}${path}`, {\r\n            body: JSON.stringify(body),\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            method: 'POST',\r\n            signal\r\n        })\r\n\r\n        if (!result.ok) {\r\n            throw new Error()\r\n        }\r\n\r\n        return await result.json()\r\n    }\r\n}"],"mappings":"AAAA,SAASA,SAAS,QAAQ,aAAa;AAEvC,OAAO,MAAMC,SAAS,CAAC;EACZC,WAAWA,CACEC,OAAe,EACjC;IAAA,KADkBA,OAAe,GAAfA,OAAe;EAChC;EAEH,MAAaC,GAAGA,CAACC,IAAY,EAAEC,EAA6C,EAAEC,MAAoB,EAAE;IAChG,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACN,OAAQ,GAAEE,IAAK,IAAGL,SAAS,CAACM,EAAE,CAAE,EAAC,EAAE;MAClEI,MAAM,EAAE,KAAK;MACbH;IACJ,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,CAACG,EAAE,EAAE;MACZ,MAAM,IAAIC,KAAK,CAAC,CAAC;IACrB;IAEA,OAAO,MAAMJ,MAAM,CAACK,IAAI,CAAC,CAAC;EAC9B;EAEA,MAAaC,IAAIA,CAACT,IAAY,EAAEU,IAAY,EAAER,MAAoB,EAAE;IAChE,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACN,OAAQ,GAAEE,IAAK,EAAC,EAAE;MACjDU,IAAI,EAAEC,IAAI,CAAChB,SAAS,CAACe,IAAI,CAAC;MAC1BE,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CP,MAAM,EAAE,MAAM;MACdH;IACJ,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,CAACG,EAAE,EAAE;MACZ,MAAM,IAAIC,KAAK,CAAC,CAAC;IACrB;IAEA,OAAO,MAAMJ,MAAM,CAACK,IAAI,CAAC,CAAC;EAC9B;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
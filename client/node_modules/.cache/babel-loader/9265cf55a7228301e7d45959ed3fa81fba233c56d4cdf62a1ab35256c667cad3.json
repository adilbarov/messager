{"ast":null,"code":"export class ApiClient {\n  constructor(baseUrl) {\n    this.baseUrl = baseUrl;\n  }\n  async get(path, signal) {\n    const result = await fetch(`${this.baseUrl}${path}}`, {\n      method: 'GET',\n      signal\n    });\n    if (!result.ok) {\n      throw new Error();\n    }\n    return await result.json();\n  }\n  async post(path, body, signal) {\n    const result = await fetch(`${this.baseUrl}${path}`, {\n      body: JSON.stringify(body),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: 'POST',\n      signal\n    });\n    if (!result.ok) {\n      throw new Error();\n    }\n    return await result.json();\n  }\n}","map":{"version":3,"names":["ApiClient","constructor","baseUrl","get","path","signal","result","fetch","method","ok","Error","json","post","body","JSON","stringify","headers"],"sources":["D:/messager/client/src/api/api-client/api-client.ts"],"sourcesContent":["export class ApiClient {\r\n    public constructor (\r\n        public readonly baseUrl: string\r\n    ) {}\r\n\r\n    public async get(path: string, signal?: AbortSignal) {\r\n        const result = await fetch(`${this.baseUrl}${path}}`, {\r\n            method: 'GET',\r\n            signal\r\n        })\r\n\r\n        if (!result.ok) {\r\n            throw new Error()\r\n        }\r\n\r\n        return await result.json()\r\n    }\r\n\r\n    public async post(path: string, body: Object, signal?: AbortSignal) {\r\n        const result = await fetch(`${this.baseUrl}${path}`, {\r\n            body: JSON.stringify(body),\r\n            headers: {\"Content-Type\": \"application/json\"},\r\n            method: 'POST',\r\n            signal\r\n        })\r\n\r\n        if (!result.ok) {\r\n            throw new Error()\r\n        }\r\n\r\n        return await result.json()\r\n    }\r\n}"],"mappings":"AAAA,OAAO,MAAMA,SAAS,CAAC;EACZC,WAAWA,CACEC,OAAe,EACjC;IAAA,KADkBA,OAAe,GAAfA,OAAe;EAChC;EAEH,MAAaC,GAAGA,CAACC,IAAY,EAAEC,MAAoB,EAAE;IACjD,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACL,OAAQ,GAAEE,IAAK,GAAE,EAAE;MAClDI,MAAM,EAAE,KAAK;MACbH;IACJ,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,CAACG,EAAE,EAAE;MACZ,MAAM,IAAIC,KAAK,CAAC,CAAC;IACrB;IAEA,OAAO,MAAMJ,MAAM,CAACK,IAAI,CAAC,CAAC;EAC9B;EAEA,MAAaC,IAAIA,CAACR,IAAY,EAAES,IAAY,EAAER,MAAoB,EAAE;IAChE,MAAMC,MAAM,GAAG,MAAMC,KAAK,CAAE,GAAE,IAAI,CAACL,OAAQ,GAAEE,IAAK,EAAC,EAAE;MACjDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACF,IAAI,CAAC;MAC1BG,OAAO,EAAE;QAAC,cAAc,EAAE;MAAkB,CAAC;MAC7CR,MAAM,EAAE,MAAM;MACdH;IACJ,CAAC,CAAC;IAEF,IAAI,CAACC,MAAM,CAACG,EAAE,EAAE;MACZ,MAAM,IAAIC,KAAK,CAAC,CAAC;IACrB;IAEA,OAAO,MAAMJ,MAAM,CAACK,IAAI,CAAC,CAAC;EAC9B;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}